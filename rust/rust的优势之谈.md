本文章来源于：<https://github.com/Zeb-D/my-review> ，请star 强力支持，你的支持，就是我的动力。

[TOC]

------

Rust 有几点特性非常吸引团队：

- 内存安全性
- 高性能 (得益于 llvm 的优秀能力，运行时实际上和 C++ 几乎没区别)，与 C/C++ 的包的亲缘性
- 强大的包管理和构建工具 Cargo
- 更现代的语法
- 和 C++ 几乎一致的调试调优体验，之前熟悉的工具比如 perf 之类的都可以直接复用
- FFI，可以无损失的链接和调用 C API



劣势：

Rust 的编译时间较长、实践曲线高；
详见[写Rust，有三大内伤](https://mp.weixin.qq.com/s/SUCLv0zfjFtoO1vVgCzAWg).
[When Rust hurts](https://mmapped.blog/posts/15-when-rust-hurts.html)



何时使用Rust?

如果从零开始开发某项产品，可以从以下几个方面进行考虑：

1. 如果公司内部在 C/C++、Java 上开发规范已经做得很好了，可以先不考虑切换至 Rust。Rust 相当于自带严格的安全性限制，让程序员在大部分情况下没办法写出存在安全隐患的代码，语言本身的设计帮助规避了一些常规问题。

2. 如果是基础软件类型的企业，相关从业人员的水平还是值得信任的，一般不会犯太多低级错误。此时，Rust 的收益主要体现在数据库最核心的组件或者功能编写上，对剩下 90% 的部分而言，效率可能比安全更重要。

3. 非 Rust 不可的场景有写驱动，比如操作系统内核等，效率绝对高；SSL 加密或者产品内部的某个关键链路，比如浏览器里面的渲染引擎，这类 CPU 密集型又对安全要求较高的场景。非必要场景最好选用社区比较大的编程语言，比如 Java，相对来说也很好招人。

4. 考虑语言的向后兼容性。Go 语言在这一点上至今都做得非常好，并且也响应社区用户的意见添加了范型。

5. 社区的风格。Rust 的社区是非常开放的，这给该语言带来了很多好处，但也可能带来一些副作用，比如可能会有些分裂，这可能是 Rust 社区未来要考虑的事情，但社区内的氛围相对活跃，可以在其中寻找问题的答案或者志同道合的朋友。

   “Rust 近几年最新加入的复杂度主要是 Pin 异步编程，但二者的加入确实解决了一些问题，无论是哪种语言都会面临各种选择，这是不同目标平衡取舍的结果。”

6. 代码实现逻辑。Rust 语言在设计上与 Go、Java 等都不同，其规避了一些问题。使用 Rust 写出来的程序可以专注优化程序逻辑本身，比如让程序更加适应操作系统、减少线程切换等。



Rust能做哪些事情？

Rust旨在在并发性至关重要的情况下实现高性能和安全性。



系统编程

Rust可以替代C和C++来构建以下系统：

- 操作系统（例如，Redox）
- 分布式文件系统（例如，星际文件系统）
- 网络协议（例如，QUIC及其他类型）
- 设备驱动程序



Web开发

Rust语言支持以下Web框架：

- Rocket：一个用于高性能的Web框架
- actix-web：一个强大、实用且极快的Rust Web框架
- warp：一个快速、简约的Web框架



嵌入式系统

Rust是一种可靠且高效的语言，适用于：

- 汽车控制系统
- 工业控制系统
- 物联网设备
- 微控制器（如Arduino）



游戏开发

游戏开发者因Rust的性能和并发特性而被吸引：

- 游戏引擎（例如，Amethyst）
- 图形渲染（Vulkan等）
- 游戏物理（例如，物理引擎）



网络

Rust的异步I/O和并发特性允许您构建：

- 高性能的网络服务器
- 分布式系统
- 云基础设施



云计算

以下领域中，Rust的性能和可靠性使其成为一个不错的选择：

- 构建云基础设施（例如，Cloudflare）
- 数据库服务（例如，Redis分布式数据库）
- 容器化技术（如Docker）



机器学习

随着Rust的机器学习库生态系统的增长，我们可以实现：

- 高效的机器学习模型构建（例如，Rustlearn）
- 数据科学和分析



命令行工具

由于其可用性和性能，Rust可用于：

- 命令行应用程序（如ripgrep）
- 系统管理工具



数据库系统

Rust提供了可靠性和性能以支持：

- 数据库引擎（例如，TiKV）
- 相关存储系统（如对象存储）



虚拟化

Rust的安全性和性能使其非常适合：

- 虚拟机管理程序（如Crosvm）



实际应用

Rust在以下实际应用中得到了应用：

- Dropbox的文件同步引擎
- Cloudflare的边缘计算平台
- Firefox浏览器（目前完全用Rust编写，但仍使用了一些C和C++）
- Mozilla的Redis Labs RedisDB
- NPM的包管理器
